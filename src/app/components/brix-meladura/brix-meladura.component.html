<div class="container">
  <div class="header">
    <h2>Gráfico de Brix Meladura</h2>
    <div class="controls">
      <div class="control-group">
        <label for="dateSelector">Fecha:</label>
        <select id="dateSelector" [(ngModel)]="selectedDate" (change)="onDateChange()">
          <option *ngFor="let date of availableDates" [value]="date">{{date}}</option>
        </select>
      </div>
      
      <div class="control-group">
        <label for="apartadoSelector">Apartado:</label>
        <select id="apartadoSelector" [(ngModel)]="selectedApartado" (change)="onApartadoChange()">
          <option *ngFor="let apartado of availableApartados" [value]="apartado">{{apartado}}</option>
        </select>
      </div>
      
      <button (click)="refreshData()">Actualizar Datos</button>
    </div>
    <div class="status">
      <span [class.connected]="apiConnectionStatus === 'Conexión exitosa'" 
            [class.error]="apiConnectionStatus !== 'Conexión exitosa'">
        {{apiConnectionStatus}}
      </span>
      <span class="error-message" *ngIf="errorMessage">{{errorMessage}}</span>
    </div>
  </div>
  
  <div class="chart-container">
    <canvas #chartCanvas></canvas>
  </div>
</div>