<div class="chart-container">
  <div class="chart-header">
    <h2>Silos de azúcar</h2>
    <div class="chart-controls">
      
      <div class="api-status" [ngClass]="{
        'status-success': apiConnectionStatus.includes(' '),
        'status-error': apiConnectionStatus.includes('Error')
      }">
        {{ apiConnectionStatus }}
        <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
      </div>
    </div>
  </div>

  <div class="chart-content-wrapper">
    <div #chartContainer class="chart-scroll-container">
      <div class="chart-wrapper">
        <canvas #chartCanvas></canvas>
      </div>
    </div>
    
    <div class="silo-container">
      <div class="silo-visualization">
        <canvas #siloCanvas width="120" height="180"></canvas>
        <div class="silo-info">
          <div class="silo-value">{{ getCurrentSiloValue() }}</div>
          <div class="silo-label">Nivel actual</div>
        </div>
      </div>
    </div>
  </div>

  <div class="chart-footer">
    <div class="data-info">
      <ul>
        <li *ngFor="let limit of limits">
          <span class="limit-line-color" 
                [style.background-color]="limit.color" 
                [style.border-color]="limit.color"></span> 
          Límite {{limit.name}}: {{limit.value || 'N/D'}}{{limit.unit}}
        </li>
      </ul>
    </div>
  </div>
</div>